<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DROP</title>
  <link rel="icon" href="Icons/logo.png">

  <!-- 1. Critical CSS inlined -->
  <style>
    /* 1.3 kB minified – keeps the first paint identical */
    :root{--g1:#0a001a;--g2:#180033;--g3:#00001a;--g4:#1a0033;--acc:#b4a0ff}
    html,body{height:100%}body{margin:0;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;font-family:'Orbitron',sans-serif;background:var(--g1);color:#fff;overflow-x:hidden}
    @keyframes f{0%,100%{opacity:1}50%{opacity:.8}}@keyframes p{to{transform:scale(1.05)}}
    .title{font-size:clamp(3rem,10vw,5rem);letter-spacing:.15em;color:var(--acc);text-shadow:0 0 20px #9664ff,0 0 40px #64ffff;animation:f 3s infinite,p 6s infinite alternate}
    .proxy-box{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);border-radius:12px;width:90%;max-width:480px;display:flex;overflow:hidden;margin-top:2rem;backdrop-filter:blur(18px)}
    #uv-address{flex:1;padding:14px;color:#fff;background:transparent;border:none;outline:none;font-size:1rem}
    button{background:linear-gradient(90deg,#6366f1,#9333ea);padding:0 24px;font-weight:bold;border:none;cursor:pointer;transition:.3s}
    button:hover{transform:scale(1.05)}
    .toggle-btn{position:fixed;top:20px;left:20px;width:45px;height:45px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border:1px solid rgba(200,150,255,.4);border-radius:8px;display:grid;place-content:center;font-size:1.8rem;cursor:pointer;z-index:1000;transition:.3s}
    .toggle-btn:hover{box-shadow:0 0 15px rgba(180,140,255,.7);transform:scale(1.1)}
    /* non-critical parts hidden until CSS file loads */
    .sidebar,.discord-link{visibility:hidden}
  </style>

  <!-- 2. Non-critical CSS fetched without blocking -->
  <link rel="preload" href="styles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="styles.min.css"></noscript>

  <!-- 3. All JS that can be deferred -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="/lf.js" defer></script>
  <script src="uv/uv.bundle.js" defer></script>
  <script src="uv/uv.config.js" defer></script>
  <script src="/index.js" defer></script>
  <script src="hotkey.js" defer></script>

  <!-- 4. Third-party widgets loaded after interaction or idle -->
  <script>
    const loadWhenIdle=(src, id)=>{
      if ('requestIdleCallback' in window)
        requestIdleCallback(()=>inject(src, id), {timeout:3000});
      else inject(src, id);
    };
    const inject=(src, id)=>{
      if (document.getElementById(id)) return;
      const s=document.createElement('script'); s.id=id; s.src=src; s.async=1; document.head.appendChild(s);
    };
    loadWhenIdle('https://arc.io/widget.min.js#KpYQhCTB','arc-widget');
    loadWhenIdle('https://www.googletagmanager.com/gtag/js?id=G-PWD8SS29YZ','gtag');
    window.dataLayer=window.dataLayer||[];
    function gtag(){dataLayer.push(arguments);}
    gtag('js',new Date());
    gtag('config','G-PWD8SS29YZ');
  </script>
</head>

<body>
  <button class="toggle-btn" aria-label="Open menu" onclick="toggleSidebar()">☰</button>

  <aside class="sidebar" id="sidebar" aria-hidden="true">
    <h2>Directory</h2>
    <nav>
      <a href="index.html">Home</a>
      <a href="partners.html">Partners</a>
      <a href="">Settings</a>
      <a href="games.html">Games</a>
      <a href="apps.html">Apps</a>
      <a href="about.html">About</a>
    </nav>
  </aside>

  <h1 class="title">DROP</h1>
  <p class="desc">The future of private browsing.<br>
     Fast, encrypted, and untraceable — powered by <span style="color:#a78bfa">Infinite Scripter</span>.</p>

  <form id="uv-form" class="proxy-box">
    <input type="hidden" id="uv-search-engine" value="https://www.google.com/search?q=%s">
    <input id="uv-address" type="text" placeholder="Enter a URL or search query…" required>
    <button type="submit">Go</button>
  </form>

  <a class="discord-link" href="https://discord.gg/W27wU3RFHf" target="_blank" rel="noopener">Join Our Discord</a>

  <script>
    function toggleSidebar(){
      const s=document.getElementById('sidebar');
      s.classList.toggle('open');
      s.setAttribute('aria-hidden',!s.classList.contains('open'));
    }
  </script>
</body>
</html>
